!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=3)}([function(e,t){e.exports=class{constructor(e,t,o){if(this.name=e,this.sunk=!1,this.spots=[],t.y==o.y)for(let e=t.x;e<=o.x;e++)this.spots.push({x:e,y:t.y,hit:!1});else for(let e=t.y;e<=o.y;e++)this.spots.push({x:t.x,y:e,hit:!1})}hit(e){let t=this.spots.indexOf(this.spots.find(t=>t.x==e.x&&t.y==e.y));this.spots[t].hit=!0,this.spots.every(e=>1==e.hit)&&(this.sunk=!0)}}},function(e,t){const o={generateRandomCoords:function(){let e={x:-5,y:-5};return e.x=Math.floor(10*Math.random()),e.y=Math.floor(10*Math.random()),e},generateEducatedCoords:function(e){let t={x:-5,y:-5};for(;t.x<0||t.x>9||t.y<0||t.y>9;)switch(Math.floor(4*Math.random())){case 0:t.x=e.x+1,t.y=e.y;break;case 1:t.x=e.x-1,t.y=e.y;break;case 2:t.x=e.x,t.y=e.y+1;break;case 3:t.x=e.x,t.y=e.y-1}return t}};e.exports=o},function(e,t){const o={checkForWin:function(e,t){const o=document.getElementsByClassName("board")[0],n=document.getElementById("game-over");e.sunkenShips>=5&&(o.style.pointerEvents="none",n.innerHTML="player"==t?"You Win!":"You Lose!")},messages:function(e){const t=document.getElementById("game-over");t.innerHTML="player"==e?"One of the computers ships has been sunk":"One of your ships has been sunk"}};e.exports=o},function(e,t,o){"use strict";o.r(t);const n=o(0),r=o(1),s=o(2);var a=class{constructor(){const e=this;this.sunkenShips=0,this.board=[];for(let e=0;e<10;e++)this.board.push(new Array(10).fill(0));function t(t){let o=-5,r=-5;for(;o+t<0||o+t>9||r+t<0||r+t>9;)o=Math.floor(10*Math.random()),r=Math.floor(10*Math.random());const s=Math.random()<.5?"H":"V";let a;a=new n(`ship${t+1}`,{x:o,y:r},"V"==s?{x:o,y:r+t}:{x:o+t,y:r});let i=!0;return a.spots.forEach(t=>{0!=e.board[t.x][t.y]&&(i=!1)}),i&&(e.ships.push(a),a.spots.forEach(t=>{e.board[t.x][t.y]=1})),i}this.ships=[];[4,3,3,2,1].forEach(e=>{let o;do{o=t(e)}while(!o)});this.board.forEach(e=>e.forEach(e=>{1==e&&0})),this.lastShotSucceeded=!1,this.lastShotXY=null,this.shotsSinceLastHit=0,console.log(this.board)}playerAttack(){let e=this.gameboard.board[this.x][this.y];document.getElementById("game-over").innerHTML="",this.gameboard.receiveAttack(this.gameboard,this,"player"),1==e?this.classList.toggle("red"):(e=2,this.classList.toggle("white")),this.removeEventListener("click",this.gameboard.playerAttack)}computerAttack(){let e;this.removeEventListener("click",this.enemyboard.computerAttack),e=this.enemyboard.lastShotSucceeded?this.enemyboard.educatedShot(this):this.enemyboard.randomShot(this);const t=document.getElementById(`X${e.x}-Y${e.y}`);1==this.enemyboard.board[e.x][e.y]?(t.classList.toggle("red"),this.enemyboard.lastShotSucceeded=!0,this.enemyboard.shotsSinceLastHit=0,this.enemyboard.lastShotXY={x:e.x,y:e.y},this.enemyboard.receiveAttack(this.enemyboard,e,"NPC")):(t.classList.toggle("white"),this.enemyboard.shotsSinceLastHit++,this.enemyboard.shotsSinceLastHit>=4&&(this.enemyboard.lastShotSucceeded=!1)),this.enemyboard.board[e.x][e.y]=2}educatedShot(e){let t=1,o=r.generateEducatedCoords(e.enemyboard.lastShotXY);for(;2==e.enemyboard.board[o.x][o.y]&&t<5;)o=r.generateEducatedCoords(e.enemyboard.lastShotXY),t++;return 5==t&&(o=e.enemyboard.randomShot(e)),o}randomShot(e){let t=r.generateRandomCoords();for(;2==e.enemyboard.board[t.x][t.y];)t=r.generateRandomCoords();return t}receiveAttack(e,t,o){e:for(const n of e.ships)for(const r of n.spots)if(r.x==t.x&&r.y==t.y){n.hit({x:t.x,y:t.y}),n.sunk&&(e.sunkenShips++,s.messages(o),s.checkForWin(e,o));break e}}};function i(e,t=null){const o=document.querySelector("#playing-board"),n=document.createElement("div");n.classList="board",n.id=null!==t?"right-board":"left-board",o.appendChild(n);for(let o=0;o<10;o++)for(let r=0;r<10;r++){const s=document.createElement("div");s.classList="square",null===t&&(s.id=`X${o}-Y${r}`),0==r&&s.classList.toggle("first"),s.x=o,s.y=r,s.gameboard=e,s.enemyboard=t,null!==t?(s.addEventListener("click",e.playerAttack),s.addEventListener("click",t.computerAttack)):1==e.board[o][r]&&s.classList.toggle("player-ship"),n.appendChild(s)}}(function(){const e=new a,t=new a;i(e,t);const o=document.querySelector("#information-board"),n=document.createElement("div");n.id="game-over",n.innerHTML="click on restart to change ship position",o.appendChild(n);const r=document.createElement("div");r.type="button",r.id="reset",r.innerHTML="Restart",r.addEventListener("click",()=>window.location.reload()),o.appendChild(r),i(t)})()}]);